"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_index-0037f985_js"],{

/***/ 7295:
/*!*************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/index-0037f985.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "startTapClick": () => (/* binding */ startTapClick)
/* harmony export */ });
/* harmony import */ var _helpers_5eb6364d_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers-5eb6364d.js */ 9364);
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */

const startTapClick = config => {
  let lastTouch = -MOUSE_WAIT * 10;
  let lastActivated = 0;
  let activatableEle;
  let activeRipple;
  let activeDefer;
  const useRippleEffect = config.getBoolean('animated', true) && config.getBoolean('rippleEffect', true);
  const clearDefers = new WeakMap();
  // Touch Events
  const onTouchStart = ev => {
    lastTouch = (0,_helpers_5eb6364d_js__WEBPACK_IMPORTED_MODULE_0__.v)(ev);
    pointerDown(ev);
  };
  const onTouchEnd = ev => {
    lastTouch = (0,_helpers_5eb6364d_js__WEBPACK_IMPORTED_MODULE_0__.v)(ev);
    pointerUp(ev);
  };
  const onMouseDown = ev => {
    // Ignore right clicks
    if (ev.button === 2) {
      return;
    }
    const t = (0,_helpers_5eb6364d_js__WEBPACK_IMPORTED_MODULE_0__.v)(ev) - MOUSE_WAIT;
    if (lastTouch < t) {
      pointerDown(ev);
    }
  };
  const onMouseUp = ev => {
    const t = (0,_helpers_5eb6364d_js__WEBPACK_IMPORTED_MODULE_0__.v)(ev) - MOUSE_WAIT;
    if (lastTouch < t) {
      pointerUp(ev);
    }
  };
  const cancelActive = () => {
    if (activeDefer) clearTimeout(activeDefer);
    activeDefer = undefined;
    if (activatableEle) {
      removeActivated(false);
      activatableEle = undefined;
    }
  };
  const pointerDown = ev => {
    if (activatableEle) {
      return;
    }
    setActivatedElement(getActivatableTarget(ev), ev);
  };
  const pointerUp = ev => {
    setActivatedElement(undefined, ev);
  };
  const setActivatedElement = (el, ev) => {
    // do nothing
    if (el && el === activatableEle) {
      return;
    }
    if (activeDefer) clearTimeout(activeDefer);
    activeDefer = undefined;
    const {
      x,
      y
    } = (0,_helpers_5eb6364d_js__WEBPACK_IMPORTED_MODULE_0__.p)(ev);
    // deactivate selected
    if (activatableEle) {
      if (clearDefers.has(activatableEle)) {
        throw new Error('internal error');
      }
      if (!activatableEle.classList.contains(ACTIVATED)) {
        addActivated(activatableEle, x, y);
      }
      removeActivated(true);
    }
    // activate
    if (el) {
      const deferId = clearDefers.get(el);
      if (deferId) {
        clearTimeout(deferId);
        clearDefers.delete(el);
      }
      el.classList.remove(ACTIVATED);
      const callback = () => {
        addActivated(el, x, y);
        activeDefer = undefined;
      };
      if (isInstant(el)) {
        callback();
      } else {
        activeDefer = setTimeout(callback, ADD_ACTIVATED_DEFERS);
      }
    }
    activatableEle = el;
  };
  const addActivated = (el, x, y) => {
    lastActivated = Date.now();
    el.classList.add(ACTIVATED);
    if (!useRippleEffect) return;
    const rippleEffect = getRippleEffect(el);
    if (rippleEffect !== null) {
      removeRipple();
      activeRipple = rippleEffect.addRipple(x, y);
    }
  };
  const removeRipple = () => {
    if (activeRipple !== undefined) {
      activeRipple.then(remove => remove());
      activeRipple = undefined;
    }
  };
  const removeActivated = smooth => {
    removeRipple();
    const active = activatableEle;
    if (!active) {
      return;
    }
    const time = CLEAR_STATE_DEFERS - Date.now() + lastActivated;
    if (smooth && time > 0 && !isInstant(active)) {
      const deferId = setTimeout(() => {
        active.classList.remove(ACTIVATED);
        clearDefers.delete(active);
      }, CLEAR_STATE_DEFERS);
      clearDefers.set(active, deferId);
    } else {
      active.classList.remove(ACTIVATED);
    }
  };
  const doc = document;
  doc.addEventListener('ionGestureCaptured', cancelActive);
  doc.addEventListener('touchstart', onTouchStart, true);
  doc.addEventListener('touchcancel', onTouchEnd, true);
  doc.addEventListener('touchend', onTouchEnd, true);
  /**
   * Tap click effects such as the ripple effect should
   * not happen when scrolling. For example, if a user scrolls
   * the page but also happens to do a touchstart on a button
   * as part of the scroll, the ripple effect should not
   * be dispatched. The ripple effect should only happen
   * if the button is activated and the page is not scrolling.
   *
   * pointercancel is dispatched on a gesture when scrolling
   * starts, so this lets us avoid having to listen for
   * ion-content's scroll events.
   */
  doc.addEventListener('pointercancel', cancelActive, true);
  doc.addEventListener('mousedown', onMouseDown, true);
  doc.addEventListener('mouseup', onMouseUp, true);
};
// TODO(FW-2832): type
const getActivatableTarget = ev => {
  if (ev.composedPath !== undefined) {
    /**
     * composedPath returns EventTarget[]. However,
     * objects other than Element can be targets too.
     * For example, AudioContext can be a target. In this
     * case, we know that the event is a UIEvent so we
     * can assume that the path will contain either Element
     * or ShadowRoot.
     */
    const path = ev.composedPath();
    for (let i = 0; i < path.length - 2; i++) {
      const el = path[i];
      if (!(el instanceof ShadowRoot) && el.classList.contains('ion-activatable')) {
        return el;
      }
    }
  } else {
    return ev.target.closest('.ion-activatable');
  }
};
const isInstant = el => {
  return el.classList.contains('ion-activatable-instant');
};
const getRippleEffect = el => {
  if (el.shadowRoot) {
    const ripple = el.shadowRoot.querySelector('ion-ripple-effect');
    if (ripple) {
      return ripple;
    }
  }
  return el.querySelector('ion-ripple-effect');
};
const ACTIVATED = 'ion-activated';
const ADD_ACTIVATED_DEFERS = 100;
const CLEAR_STATE_DEFERS = 150;
const MOUSE_WAIT = 2500;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW5kZXgtMDAzN2Y5ODVfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDb0U7QUFFcEUsTUFBTUksYUFBYSxHQUFJQyxNQUFNLElBQUs7RUFDaEMsSUFBSUMsU0FBUyxHQUFHLENBQUNDLFVBQVUsR0FBRyxFQUFFO0VBQ2hDLElBQUlDLGFBQWEsR0FBRyxDQUFDO0VBQ3JCLElBQUlDLGNBQWM7RUFDbEIsSUFBSUMsWUFBWTtFQUNoQixJQUFJQyxXQUFXO0VBQ2YsTUFBTUMsZUFBZSxHQUFHUCxNQUFNLENBQUNRLFVBQVUsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLElBQUlSLE1BQU0sQ0FBQ1EsVUFBVSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUM7RUFDdEcsTUFBTUMsV0FBVyxHQUFHLElBQUlDLE9BQU8sRUFBRTtFQUNqQztFQUNBLE1BQU1DLFlBQVksR0FBSUMsRUFBRSxJQUFLO0lBQzNCWCxTQUFTLEdBQUdMLHVEQUFHLENBQUNnQixFQUFFLENBQUM7SUFDbkJDLFdBQVcsQ0FBQ0QsRUFBRSxDQUFDO0VBQ2pCLENBQUM7RUFDRCxNQUFNRSxVQUFVLEdBQUlGLEVBQUUsSUFBSztJQUN6QlgsU0FBUyxHQUFHTCx1REFBRyxDQUFDZ0IsRUFBRSxDQUFDO0lBQ25CRyxTQUFTLENBQUNILEVBQUUsQ0FBQztFQUNmLENBQUM7RUFDRCxNQUFNSSxXQUFXLEdBQUlKLEVBQUUsSUFBSztJQUMxQjtJQUNBLElBQUlBLEVBQUUsQ0FBQ0ssTUFBTSxLQUFLLENBQUMsRUFBRTtNQUNuQjtJQUNGO0lBQ0EsTUFBTUMsQ0FBQyxHQUFHdEIsdURBQUcsQ0FBQ2dCLEVBQUUsQ0FBQyxHQUFHVixVQUFVO0lBQzlCLElBQUlELFNBQVMsR0FBR2lCLENBQUMsRUFBRTtNQUNqQkwsV0FBVyxDQUFDRCxFQUFFLENBQUM7SUFDakI7RUFDRixDQUFDO0VBQ0QsTUFBTU8sU0FBUyxHQUFJ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LGlCQUFpQixDQUFDLEVBQUU7UUFDM0UsT0FBT04sRUFBRTtNQUNYO0lBQ0Y7RUFDRixDQUFDLE1BQ0k7SUFDSCxPQUFPZCxFQUFFLENBQUNtRCxNQUFNLENBQUNDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQztFQUM5QztBQUNGLENBQUM7QUFDRCxNQUFNeEIsU0FBUyxHQUFJZCxFQUFFLElBQUs7RUFDeEIsT0FBT0EsRUFBRSxDQUFDSyxTQUFTLENBQUNDLFFBQVEsQ0FBQyx5QkFBeUIsQ0FBQztBQUN6RCxDQUFDO0FBQ0QsTUFBTWMsZUFBZSxHQUFJcEIsRUFBRSxJQUFLO0VBQzlCLElBQUlBLEVBQUUsQ0FBQ3VDLFVBQVUsRUFBRTtJQUNqQixNQUFNQyxNQUFNLEdBQUd4QyxFQUFFLENBQUN1QyxVQUFVLENBQUNFLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQztJQUMvRCxJQUFJRCxNQUFNLEVBQUU7TUFDVixPQUFPQSxNQUFNO0lBQ2Y7RUFDRjtFQUNBLE9BQU94QyxFQUFFLENBQUN5QyxhQUFhLENBQUMsbUJBQW1CLENBQUM7QUFDOUMsQ0FBQztBQUNELE1BQU1sQyxTQUFTLEdBQUcsZUFBZTtBQUNqQyxNQUFNUyxvQkFBb0IsR0FBRyxHQUFHO0FBQ2hDLE1BQU1XLGtCQUFrQixHQUFHLEdBQUc7QUFDOUIsTUFBTW5ELFVBQVUsR0FBRyxJQUFJIiwic291cmNlcyI6WyIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pbmRleC0wMDM3Zjk4NS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgdiBhcyBub3csIHAgYXMgcG9pbnRlckNvb3JkIH0gZnJvbSAnLi9oZWxwZXJzLTVlYjYzNjRkLmpzJztcblxuY29uc3Qgc3RhcnRUYXBDbGljayA9IChjb25maWcpID0+IHtcbiAgbGV0IGxhc3RUb3VjaCA9IC1NT1VTRV9XQUlUICogMTA7XG4gIGxldCBsYXN0QWN0aXZhdGVkID0gMDtcbiAgbGV0IGFjdGl2YXRhYmxlRWxlO1xuICBsZXQgYWN0aXZlUmlwcGxlO1xuICBsZXQgYWN0aXZlRGVmZXI7XG4gIGNvbnN0IHVzZVJpcHBsZUVmZmVjdCA9IGNvbmZpZy5nZXRCb29sZWFuKCdhbmltYXRlZCcsIHRydWUpICYmIGNvbmZpZy5nZXRCb29sZWFuKCdyaXBwbGVFZmZlY3QnLCB0cnVlKTtcbiAgY29uc3QgY2xlYXJEZWZlcnMgPSBuZXcgV2Vha01hcCgpO1xuICAvLyBUb3VjaCBFdmVudHNcbiAgY29uc3Qgb25Ub3VjaFN0YXJ0ID0gKGV2KSA9PiB7XG4gICAgbGFzdFRvdWNoID0gbm93KGV2KTtcbiAgICBwb2ludGVyRG93bihldik7XG4gIH07XG4gIGNvbnN0IG9uVG91Y2hFbmQgPSAoZXYpID0+IHtcbiAgICBsYXN0VG91Y2ggPSBub3coZXYpO1xuICAgIHBvaW50ZXJVcChldik7XG4gIH07XG4gIGNvbnN0IG9uTW91c2VEb3duID0gKGV2KSA9PiB7XG4gICAgLy8gSWdub3JlIHJpZ2h0IGNsaWNrc1xuICAgIGlmIChldi5idXR0b24gPT09IDIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdCA9IG5vdyhldikgLSBNT1VTRV9XQUlUO1xuICAgIGlmIChsYXN0VG91Y2ggPCB0KSB7XG4gICAgICBwb2ludGVyRG93bihldik7XG4gICAgfVxuICB9O1xuICBjb25zdCBvbk1vdXNlVXAgPSAoZXYpID0+IHtcbiAgICBjb25zdCB0ID0gbm93KGV2KSAtIE1PVVNFX1dBSVQ7XG4gICAgaWYgKGxhc3RUb3VjaCA8IHQpIHtcbiAgICAgIHBvaW50ZXJVcChldik7XG4gICAgfVxuICB9O1xuICBjb25zdCBjYW5jZWxBY3RpdmUgPSAoKSA9PiB7XG4gICAgaWYgKGFjdGl2ZURlZmVyKVxuICAgICAgY2xlYXJUaW1lb3V0KGFjdGl2ZURlZmVyKTtcbiAgICBhY3RpdmVEZWZlciA9IHVuZGVmaW5lZDtcbiAgICBpZiAoYWN0aXZhdGFibGVFbGUpIHtcbiAgICAgIHJlbW92ZUFjdGl2YXRlZChmYWxzZSk7XG4gICAgICBhY3RpdmF0YWJsZUVsZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBvaW50ZXJEb3duID0gKGV2KSA9PiB7XG4gICAgaWYgKGFjdGl2YXRhYmxlRWxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldEFjdGl2YXRlZEVsZW1lbnQoZ2V0QWN0aXZhdGFibGVUYXJnZXQoZXYpLCBldik7XG4gIH07XG4gIGNvbnN0IHBvaW50ZXJVcCA9IChldikgPT4ge1xuICAgIHNldEFjdGl2YXRlZEVsZW1lbnQodW5kZWZpbmVkLCBldik7XG4gIH07XG4gIGNvbnN0IHNldEFjdGl2YXRlZEVsZW1lbnQgPSAoZWwsIGV2KSA9PiB7XG4gICAgLy8gZG8gbm90aGluZ1xuICAgIGlmIChlbCAmJiBlbCA9PT0gYWN0aXZhdGFibGVFbGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGFjdGl2ZURlZmVyKVxuICAgICAgY2xlYXJUaW1lb3V0KGFjdGl2ZURlZmVyKTtcbiAgICBhY3RpdmVEZWZlciA9IHVuZGVmaW5lZDtcbiAgICBjb25zdCB7IHgsIHkgfSA9IHBvaW50ZXJDb29yZChldik7XG4gICAgLy8gZGVhY3RpdmF0ZSBzZWxlY3RlZFxuICAgIGlmIChhY3RpdmF0YWJsZUVsZSkge1xuICAgICAgaWYgKGNsZWFyRGVmZXJzLmhhcyhhY3RpdmF0YWJsZUVsZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnRlcm5hbCBlcnJvcicpO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmF0YWJsZUVsZS5jbGFzc0xpc3QuY29udGFpbnMoQUNUSVZBVEVEKSkge1xuICAgICAgICBhZGRBY3RpdmF0ZWQoYWN0aXZhdGFibGVFbGUsIHgsIHkpO1xuICAgICAgfVxuICAgICAgcmVtb3ZlQWN0aXZhdGVkKHRydWUpO1xuICAgIH1cbiAgICAvLyBhY3RpdmF0ZVxuICAgIGlmIChlbCkge1xuICAgICAgY29uc3QgZGVmZXJJZCA9IGNsZWFyRGVmZXJzLmdldChlbCk7XG4gICAgICBpZiAoZGVmZXJJZCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoZGVmZXJJZCk7XG4gICAgICAgIGNsZWFyRGVmZXJzLmRlbGV0ZShlbCk7XG4gICAgICB9XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKEFDVElWQVRFRCk7XG4gICAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgYWRkQWN0aXZhdGVkKGVsLCB4LCB5KTtcbiAgICAgICAgYWN0aXZlRGVmZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgICAgaWYgKGlzSW5zdGFudChlbCkpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBhY3RpdmVEZWZlciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIEFERF9BQ1RJVkFURURfREVGRVJTKTtcbiAgICAgIH1cbiAgICB9XG4gICAgYWN0aXZhdGFibGVFbGUgPSBlbDtcbiAgfTtcbiAgY29uc3QgYWRkQWN0aXZhdGVkID0gKGVsLCB4LCB5KSA9PiB7XG4gICAgbGFzdEFjdGl2YXRlZCA9IERhdGUubm93KCk7XG4gICAgZWwuY2xhc3NMaXN0LmFkZChBQ1RJVkFURUQpO1xuICAgIGlmICghdXNlUmlwcGxlRWZmZWN0KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHJpcHBsZUVmZmVjdCA9IGdldFJpcHBsZUVmZmVjdChlbCk7XG4gICAgaWYgKHJpcHBsZUVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgcmVtb3ZlUmlwcGxlKCk7XG4gICAgICBhY3RpdmVSaXBwbGUgPSByaXBwbGVFZmZlY3QuYWRkUmlwcGxlKHgsIHkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVtb3ZlUmlwcGxlID0gKCkgPT4ge1xuICAgIGlmIChhY3RpdmVSaXBwbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgYWN0aXZlUmlwcGxlLnRoZW4oKHJlbW92ZSkgPT4gcmVtb3ZlKCkpO1xuICAgICAgYWN0aXZlUmlwcGxlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVtb3ZlQWN0aXZhdGVkID0gKHNtb290aCkgPT4ge1xuICAgIHJlbW92ZVJpcHBsZSgpO1xuICAgIGNvbnN0IGFjdGl2ZSA9IGFjdGl2YXRhYmxlRWxlO1xuICAgIGlmICghYWN0aXZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRpbWUgPSBDTEVBUl9TVEFURV9ERUZFUlMgLSBEYXRlLm5vdygpICsgbGFzdEFjdGl2YXRlZDtcbiAgICBpZiAoc21vb3RoICYmIHRpbWUgPiAwICYmICFpc0luc3RhbnQoYWN0aXZlKSkge1xuICAgICAgY29uc3QgZGVmZXJJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBhY3RpdmUuY2xhc3NMaXN0LnJlbW92ZShBQ1RJVkFURUQpO1xuICAgICAgICBjbGVhckRlZmVycy5kZWxldGUoYWN0aXZlKTtcbiAgICAgIH0sIENMRUFSX1NUQVRFX0RFRkVSUyk7XG4gICAgICBjbGVhckRlZmVycy5zZXQoYWN0aXZlLCBkZWZlcklkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBhY3RpdmUuY2xhc3NMaXN0LnJlbW92ZShBQ1RJVkFURUQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZG9jID0gZG9jdW1lbnQ7XG4gIGRvYy5hZGRFdmVudExpc3RlbmVyKCdpb25HZXN0dXJlQ2FwdHVyZWQnLCBjYW5jZWxBY3RpdmUpO1xuICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCwgdHJ1ZSk7XG4gIGRvYy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIG9uVG91Y2hFbmQsIHRydWUpO1xuICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblRvdWNoRW5kLCB0cnVlKTtcbiAgLyoqXG4gICAqIFRhcCBjbGljayBlZmZlY3RzIHN1Y2ggYXMgdGhlIHJpcHBsZSBlZmZlY3Qgc2hvdWxkXG4gICAqIG5vdCBoYXBwZW4gd2hlbiBzY3JvbGxpbmcuIEZvciBleGFtcGxlLCBpZiBhIHVzZXIgc2Nyb2xsc1xuICAgKiB0aGUgcGFnZSBidXQgYWxzbyBoYXBwZW5zIHRvIGRvIGEgdG91Y2hzdGFydCBvbiBhIGJ1dHRvblxuICAgKiBhcyBwYXJ0IG9mIHRoZSBzY3JvbGwsIHRoZSByaXBwbGUgZWZmZWN0IHNob3VsZCBub3RcbiAgICogYmUgZGlzcGF0Y2hlZC4gVGhlIHJpcHBsZSBlZmZlY3Qgc2hvdWxkIG9ubHkgaGFwcGVuXG4gICAqIGlmIHRoZSBidXR0b24gaXMgYWN0aXZhdGVkIGFuZCB0aGUgcGFnZSBpcyBub3Qgc2Nyb2xsaW5nLlxuICAgKlxuICAgKiBwb2ludGVyY2FuY2VsIGlzIGRpc3BhdGNoZWQgb24gYSBnZXN0dXJlIHdoZW4gc2Nyb2xsaW5nXG4gICAqIHN0YXJ0cywgc28gdGhpcyBsZXRzIHVzIGF2b2lkIGhhdmluZyB0byBsaXN0ZW4gZm9yXG4gICAqIGlvbi1jb250ZW50J3Mgc2Nyb2xsIGV2ZW50cy5cbiAgICovXG4gIGRvYy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgY2FuY2VsQWN0aXZlLCB0cnVlKTtcbiAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uTW91c2VEb3duLCB0cnVlKTtcbiAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXAsIHRydWUpO1xufTtcbi8vIFRPRE8oRlctMjgzMik6IHR5cGVcbmNvbnN0IGdldEFjdGl2YXRhYmxlVGFyZ2V0ID0gKGV2KSA9PiB7XG4gIGlmIChldi5jb21wb3NlZFBhdGggIT09IHVuZGVmaW5lZCkge1xuICAgIC8qKlxuICAgICAqIGNvbXBvc2VkUGF0aCByZXR1cm5zIEV2ZW50VGFyZ2V0W10uIEhvd2V2ZXIsXG4gICAgICogb2JqZWN0cyBvdGhlciB0aGFuIEVsZW1lbnQgY2FuIGJlIHRhcmdldHMgdG9vLlxuICAgICAqIEZvciBleGFtcGxlLCBBdWRpb0NvbnRleHQgY2FuIGJlIGEgdGFyZ2V0LiBJbiB0aGlzXG4gICAgICogY2FzZSwgd2Uga25vdyB0aGF0IHRoZSBldmVudCBpcyBhIFVJRXZlbnQgc28gd2VcbiAgICAgKiBjYW4gYXNzdW1lIHRoYXQgdGhlIHBhdGggd2lsbCBjb250YWluIGVpdGhlciBFbGVtZW50XG4gICAgICogb3IgU2hhZG93Um9vdC5cbiAgICAgKi9cbiAgICBjb25zdCBwYXRoID0gZXYuY29tcG9zZWRQYXRoKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDI7IGkrKykge1xuICAgICAgY29uc3QgZWwgPSBwYXRoW2ldO1xuICAgICAgaWYgKCEoZWwgaW5zdGFuY2VvZiBTaGFkb3dSb290KSAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2lvbi1hY3RpdmF0YWJsZScpKSB7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIGV2LnRhcmdldC5jbG9zZXN0KCcuaW9uLWFjdGl2YXRhYmxlJyk7XG4gIH1cbn07XG5jb25zdCBpc0luc3RhbnQgPSAoZWwpID0+IHtcbiAgcmV0dXJuIGVsLmNsYXNzTGlzdC5jb250YWlucygnaW9uLWFjdGl2YXRhYmxlLWluc3RhbnQnKTtcbn07XG5jb25zdCBnZXRSaXBwbGVFZmZlY3QgPSAoZWwpID0+IHtcbiAgaWYgKGVsLnNoYWRvd1Jvb3QpIHtcbiAgICBjb25zdCByaXBwbGUgPSBlbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yaXBwbGUtZWZmZWN0Jyk7XG4gICAgaWYgKHJpcHBsZSkge1xuICAgICAgcmV0dXJuIHJpcHBsZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yaXBwbGUtZWZmZWN0Jyk7XG59O1xuY29uc3QgQUNUSVZBVEVEID0gJ2lvbi1hY3RpdmF0ZWQnO1xuY29uc3QgQUREX0FDVElWQVRFRF9ERUZFUlMgPSAxMDA7XG5jb25zdCBDTEVBUl9TVEFURV9ERUZFUlMgPSAxNTA7XG5jb25zdCBNT1VTRV9XQUlUID0gMjUwMDtcblxuZXhwb3J0IHsgc3RhcnRUYXBDbGljayB9O1xuIl0sIm5hbWVzIjpbInYiLCJub3ciLCJwIiwicG9pbnRlckNvb3JkIiwic3RhcnRUYXBDbGljayIsImNvbmZpZyIsImxhc3RUb3VjaCIsIk1PVVNFX1dBSVQiLCJsYXN0QWN0aXZhdGVkIiwiYWN0aXZhdGFibGVFbGUiLCJhY3RpdmVSaXBwbGUiLCJhY3RpdmVEZWZlciIsInVzZVJpcHBsZUVmZmVjdCIsImdldEJvb2xlYW4iLCJjbGVhckRlZmVycyIsIldlYWtNYXAiLCJvblRvdWNoU3RhcnQiLCJldiIsInBvaW50ZXJEb3duIiwib25Ub3VjaEVuZCIsInBvaW50ZXJVcCIsIm9uTW91c2VEb3duIiwiYnV0dG9uIiwidCIsIm9uTW91c2VVcCIsImNhbmNlbEFjdGl2ZSIsImNsZWFyVGltZW91dCIsInVuZGVmaW5lZCIsInJlbW92ZUFjdGl2YXRlZCIsInNldEFjdGl2YXRlZEVsZW1lbnQiLCJnZXRBY3RpdmF0YWJsZVRhcmdldCIsImVsIiwieCIsInkiLCJoYXMiLCJFcnJvciIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiQUNUSVZBVEVEIiwiYWRkQWN0aXZhdGVkIiwiZGVmZXJJZCIsImdldCIsImRlbGV0ZSIsInJlbW92ZSIsImNhbGxiYWNrIiwiaXNJbnN0YW50Iiwic2V0VGltZW91dCIsIkFERF9BQ1RJVkFURURfREVGRVJTIiwiRGF0ZSIsImFkZCIsInJpcHBsZUVmZmVjdCIsImdldFJpcHBsZUVmZmVjdCIsInJlbW92ZVJpcHBsZSIsImFkZFJpcHBsZSIsInRoZW4iLCJzbW9vdGgiLCJhY3RpdmUiLCJ0aW1lIiwiQ0xFQVJfU1RBVEVfREVGRVJTIiwic2V0IiwiZG9jIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY29tcG9zZWRQYXRoIiwicGF0aCIsImkiLCJsZW5ndGgiLCJTaGFkb3dSb290IiwidGFyZ2V0IiwiY2xvc2VzdCIsInNoYWRvd1Jvb3QiLCJyaXBwbGUiLCJxdWVyeVNlbGVjdG9yIl0sInNvdXJjZVJvb3QiOiJ3ZWJwYWNrOi8vLyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswXX0=